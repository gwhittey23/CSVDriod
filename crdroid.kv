#:import NavigationDrawer kivy.garden.navigationdrawer.NavigationDrawer
#:import Magnet kivy.garden.magnet.Magnet

<SidePanel>:
    orientation: 'vertical'
    spacing: 1

    MenuItem:
        text: 'voce uno'

    MenuItem:
        text: 'voce due'

    MenuItem:
        text: 'comic screen'

<RootWidget>:
    manager: manager

#This is the root widget's kv definition
#    NavigationDrawer:
#        BoxLayout:
#            orientation: 'horizontal'
#            Label:
#                text: 'Panel'
#            Label:
#                text: 'L2'
    ScreenManager:
        id: manager

        Screen:
            name: 'libraryscreen'
            ActionBar:
                id: _action
                size_hint: 1,0.03
                pos_hint: {'top':1}
                ActionView:
                    use_separator: True
                    ActionPrevious:
                        title: 'Settings'
                        with_previous: False
                        on_release: app.open_settings()
            BoxLayout:
                orientation: 'vertical'
                Label:
                    text: 'first screen!'
                    font_size: 30
                Magnet:
                    transitions: {'pos': 'out_quad', 'size': 'out_elastic'}
                    duration: 1

                    BoxLayout:
                        Button:
                            text: 'Load Config'
                            font_size: 30
                            on_release: app.open_settings()
                        Button:
                            text: 'get random colour screen'
                            font_size: 30
                            on_release: root.manager.current = 'comicscreen'
                            on_release: app.root.load_from_server()
                            on_release: root.pos_hint =  {'top': 1}

        ComicScreen:
            name: 'comicscreen'

            FloatLayout:
                NavigationDrawer:
                    BoxLayout:
                        orientation: 'horizontal'
                        Label:
                            text: 'Panel'
                        Label:
                            text: 'L2'
                Label:
                    color: (255,0,255,1)
                Carousel:
                    id: my_carousel
                    size_hint: 1,1
                    on_next_slide: root.load_next_page()

                Button:
                    pos_hint: {'x': .001, 'y': .0001}
                    text: "Prev"
                    size_hint: .2, .2
                    on_release: my_carousel.load_previous()
                    opacity: 0
                Button:
                    pos_hint: {'x': .85, 'y': .0001}
                    text: "Next"
                    size_hint: .2, .2
                    on_release: my_carousel.load_next()
                    opacity: 0